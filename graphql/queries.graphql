"""
Queries used in the application.
Author: Andrew Jarombek
Date: 4/7/2020
"""

# Get basic GitHub user information.
query UserInfo($username: String!) {
    user(login: $username) {
        login
        name
        location
        websiteUrl
        avatarUrl
    }
}

# Get all the personal repositories for a user.  This query is used to display the total repository
# count on the dashboard.
query PersonalRepositories($username: String!) {
    user(login: $username) {
        name
        repositories(isFork: false, isLocked: false, privacy: PUBLIC, affiliations: OWNER,
                    ownerAffiliations:OWNER, first: 100) {
            totalCount
            edges {
                node {
                    name
                }
            }
        }
    }
}

# Get the most used language in each repository.  Used to compute the most popular language.
query TopLanguage($username: String!) {
    user(login: $username) {
        name
        repositories(isFork: false, isLocked: false, privacy: PUBLIC, affiliations: OWNER,
                    ownerAffiliations:OWNER, first: 100) {
            edges {
                node {
                    primaryLanguage {
                        name
                    }
                }
            }
        }
    }
}
